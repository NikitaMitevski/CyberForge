import React, { createContext, useState, useContext, useEffect, useMemo } from 'react';

// Translation objects
const translations = {
    MK: {
        // Navigation
        home: '–î–æ–º–∞',
        clickSafe: '–ö–ª–∏–∫–Ω–∏ –±–µ–∑–±–µ–¥–Ω–æ',
        whatIs: '–®—Ç–æ –µ CyberForge?',
        whySecurity: '–ó–æ—à—Ç–æ –±–µ–∑–±–µ–¥–Ω–æ—Å—Ç?',
        aboutUs: '–ó–∞ –Ω–∞—Å',
        
        // Hero Section
        heroTitle: '–°–µ–∫–æ—ò –∫–ª–∏–∫ –µ –Ω–æ–≤–∞ –∞–≤–∞–Ω—Ç—É—Ä–∞!',
        heroSubtitle: '–ó–∞—á–µ–∫–æ—Ä–∏ –±–µ–∑–±–µ–¥–Ω–æ –≤–æ –¥–∏–≥–∏—Ç–∞–ª–Ω–∏–æ—Ç —Å–≤–µ—Ç.',
        
        // Link Form
        checkUrl: '–ü—Ä–æ–≤–µ—Ä–∏',
        enterUrl: '–í–Ω–µ—Å–µ—Ç–µ URL –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞',
        checking: '–ü—Ä–æ–≤–µ—Ä–∫–∞...',
        safe: '–í–∞—à–∏–æ—Ç –ª–∏–Ω–∫ –µ –±–µ–∑–±–µ–¥–µ–Ω!',
        dangerous: '–í–∞—à–∏–æ—Ç –ª–∏–Ω–∫ –µ –æ–ø–∞—Å–µ–Ω, –±–∏–¥–µ—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª–Ω–∏!',
        warning: '–õ–∏–Ω–∫–æ—Ç –µ —Å–∏–≥—É—Ä–µ–Ω, –Ω–æ –ø–æ–∫–∞–∂—É–≤–∞ –∑–Ω–∞—Ü–∏ –Ω–∞ —Å–æ–º–Ω–∏—Ç–µ–ª–Ω–æ—Å—Ç.',
        error: '–°–µ —Å–ª—É—á–∏ –≥—Ä–µ—à–∫–∞: ',
        notExist: '–í–Ω–µ—Å–µ–Ω–∏–æ—Ç –ª–∏–Ω–∫ –Ω–µ –ø–æ—Å—Ç–æ–∏ –∏–ª–∏ –Ω–µ –µ –¥–æ—Å—Ç–∞–ø–µ–Ω.',
        suspicious: '–í–ù–ò–ú–ê–ù–ò–ï: –õ–∏–Ω–∫–æ—Ç –∏–∑–≥–ª–µ–¥–∞ —Å–æ–º–Ω–∏—Ç–µ–ª–Ω–æ!',
        
        // About Section
        aboutDescription: 'üåê –ö–∞–∫–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–∞ CyberForge?\n\nCyberForge –µ —Ç–≤–æ—ò–∞—Ç–∞ –ø—Ä–≤–∞ –ª–∏–Ω–∏—ò–∞ –Ω–∞ –æ–¥–±—Ä–∞–Ω–∞ –æ–¥ –æ–ø–∞—Å–Ω–∏ –ª–∏–Ω–∫–æ–≤–∏ –Ω–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç. –°–æ –Ω–∞—à–∞—Ç–∞ –∞–ª–∞—Ç–∫–∞, —Å–µ–∫–æ—ò –∫–æ—Ä–∏—Å–Ω–∏–∫ –º–æ–∂–µ –ª–µ—Å–Ω–æ –¥–∞ –≤–Ω–µ—Å–µ –±–∏–ª–æ –∫–æ—ò –ª–∏–Ω–∫ –≤–æ –ø–æ–ª–µ—Ç–æ –Ω–∞ –ø–æ—á–µ—Ç–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏ –∑–∞ —Å–∞–º–æ –Ω–µ–∫–æ–ª–∫—É —Å–µ–∫—É–Ω–¥–∏ –¥–∞ –¥–æ–±–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–∞ –¥–∞–ª–∏ —Ç–æ—ò –ª–∏–Ω–∫ –µ –±–µ–∑–±–µ–¥–µ–Ω –∏–ª–∏ –ø–æ—Ç–µ–Ω—Ü–∏—ò–∞–ª–Ω–æ –æ–ø–∞—Å–µ–Ω.',
        keyFeatures: '–ö–∞–∫–æ —Ä–∞–±–æ—Ç–∏:',
        feature1: '–ì–æ –≤–Ω–µ—Å—É–≤–∞—à –ª–∏–Ω–∫–æ—Ç –≤–æ –ø–æ–ª–µ—Ç–æ –Ω–∞ –ø–æ—á–µ—Ç–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞',
        feature2: '–°–∏—Å—Ç–µ–º–æ—Ç –∞–≤—Ç–æ–º–∞—Ç—Å–∫–∏ –≥–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–∞ URL-—Ç–æ –∏ –≥–æ —Å–ø–æ—Ä–µ–¥—É–≤–∞ —Å–æ –Ω–∞—ò–Ω–æ–≤–∏—Ç–µ –±–∞–∑–∏ –Ω–∞ –ø–æ–¥–∞—Ç–æ—Ü–∏ –∑–∞ —Ñ–∏—à–∏–Ω–≥, –º–∞–ª–∏—Ü–∏–æ–∑–Ω–∏ –∏ –∏–∑–º–∞–º–Ω–∏—á–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∏',
        feature3: '–ö–æ—Ä–∏—Å—Ç–∏ –Ω–∞–ø—Ä–µ–¥–Ω–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –∏ –º–∞—à–∏–Ω—Å–∫–æ —É—á–µ—ö–µ –∑–∞ –ø—Ä–µ–ø–æ–∑–Ω–∞–≤–∞—ö–µ –Ω–∞ –Ω–æ–≤–∏ –∑–∞–∫–∞–Ω–∏',
        feature4: '–ë—Ä–∑–∞ –∏ —ò–∞—Å–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–∞ –∑–∞ –±–µ–∑–±–µ–¥–Ω–æ—Å—Ç–∞ –Ω–∞ —Å–µ–∫–æ—ò –ª–∏–Ω–∫',
        aboutBenefits: '–®—Ç–æ –¥–æ–±–∏–≤–∞—à:',
        benefit1: '–ë—Ä–∑–∞ –∏ —ò–∞—Å–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–∞ –∑–∞ –±–µ–∑–±–µ–¥–Ω–æ—Å—Ç–∞ –Ω–∞ —Å–µ–∫–æ—ò –ª–∏–Ω–∫',
        benefit2: '–ó–∞—à—Ç–∏—Ç–∞ –æ–¥ –Ω–∞—ò—á–µ—Å—Ç–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∑–∞–∫–∞–Ω–∏',
        benefit3: '–ú–∏—Ä–µ–Ω —É–º –ø—Ä–∏ —Å–µ–∫–æ–µ —Å—É—Ä—Ñ–∞—ö–µ',
        aboutCallToAction: 'üëâ –ü—Ä–æ–≤–µ—Ä–∏ –≥–æ —Å–µ–∫–æ—ò –ª–∏–Ω–∫ –ø—Ä–µ–¥ –¥–∞ –∫–ª–∏–∫–Ω–µ—à —Å–æ CyberForge!',
        
        // About Us Section
        ourMission: '–ù–∞—à–∞—Ç–∞ –º–∏—Å–∏—ò–∞',
        missionDescription: '–í–æ CyberForge, –ø–æ—Å–≤–µ—Ç–µ–Ω–∏ —Å–º–µ –Ω–∞ –æ–±–µ–∑–±–µ–¥—É–≤–∞—ö–µ –Ω–∞ –Ω–∞—ò—Å–æ–≤—Ä–µ–º–µ–Ω–∏ —Ä–µ—à–µ–Ω–∏—ò–∞ –∑–∞ –∫–∏–±–µ—Ä–±–µ–∑–±–µ–¥–Ω–æ—Å—Ç –∑–∞ –∑–∞—à—Ç–∏—Ç–∞ –Ω–∞ –±–∏–∑–Ω–∏—Å–∏—Ç–µ –∏ –ø–æ–µ–¥–∏–Ω—Ü–∏—Ç–µ –≤–æ –¥–∏–≥–∏—Ç–∞–ª–Ω–∞—Ç–∞ –µ—Ä–∞.',
        ourTeam: '–ù–∞—à–∏–æ—Ç —Ç–∏–º',
        teamDescription: '–ù–∏–µ —Å–º–µ —Ç–∏–º –æ–¥ –∏—Å–∫—É—Å–Ω–∏ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª—Ü–∏ –∑–∞ –∫–∏–±–µ—Ä–±–µ–∑–±–µ–¥–Ω–æ—Å—Ç –ø–æ—Å–≤–µ—Ç–µ–Ω–∏ –Ω–∞ –∏–∑–≤—Ä—Å–Ω–æ—Å—Ç –∏ –∏–Ω–æ–≤–∞—Ü–∏–∏.',
        ourValues: '–ù–∞—à–∏—Ç–µ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏',
        value1: '–ë–µ–∑–±–µ–¥–Ω–æ—Å—Ç –Ω–∞ –ø—Ä–≤–æ –º–µ—Å—Ç–æ',
        value2: '–î–æ–≤–µ—Ä–±–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ',
        value3: '–ò–Ω–æ–≤–∞—Ü–∏–∏',
        value4: '–ò–∑–≤—Ä—Å–Ω–æ—Å—Ç',
        
        // Contact Section
        contactUs: '–ö–æ–Ω—Ç–∞–∫—Ç–∏—Ä–∞—ò—Ç–µ –Ω√®',
        name: '–ò–º–µ:',
        email: '–ï-–ø–æ—à—Ç–∞:',
        message: '–ü–æ—Ä–∞–∫–∞:',
        sendMessage: '–ò—Å–ø—Ä–∞—Ç–∏ –ø–æ—Ä–∞–∫–∞',

        // Why Security Section
        securityIntro: '–í–æ –¥–∏–≥–∏—Ç–∞–ª–Ω–∏–æ—Ç —Å–≤–µ—Ç, –±–µ–∑–±–µ–¥–Ω–æ—Å—Ç–∞ –Ω–µ –µ —Å–∞–º–æ –∏–∑–±–æ—Ä, —Ç—É–∫—É –Ω–µ–æ–ø—Ö–æ–¥–Ω–æ—Å—Ç. –°–µ–∫–æ—ò–¥–Ω–µ–≤–Ω–æ —Å–º–µ –∏–∑–ª–æ–∂–µ–Ω–∏ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ —Å–∞—ò–±–µ—Ä –∑–∞–∫–∞–Ω–∏ ‚Äì –æ–¥ —Ñ–∏—à–∏–Ω–≥ –∏ –º–∞–ª–∏—Ü–∏–æ–∑–µ–Ω —Å–æ—Ñ—Ç–≤–µ—Ä –¥–æ –∫—Ä–∞–∂–±–∞ –Ω–∞ –ª–∏—á–Ω–∏ –ø–æ–¥–∞—Ç–æ—Ü–∏ –∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Å–∫–∏ –∏–∑–º–∞–º–∏. –°–∞–º–æ —Å–æ —Å–≤–µ—Å–Ω–æ—Å—Ç –∏ –ø—Ä–æ–∞–∫—Ç–∏–≤–µ–Ω –ø—Ä–∏—Å—Ç–∞–ø –º–æ–∂–µ–º–µ –¥–∞ –≥–∏ –Ω–∞–º–∞–ª–∏–º–µ —Ä–∏–∑–∏—Ü–∏—Ç–µ –∏ –¥–∞ —É–∂–∏–≤–∞–º–µ –≤–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ—Ç –±–µ–∑ —Å—Ç—Ä–∞–≤ –æ–¥ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–∞.',
        risksTitle: '–†–∏–∑–∏—Ü–∏:',
        risk1: '–§–∏—à–∏–Ω–≥ –Ω–∞–ø–∞–¥–∏',
        risk2: '–ö—Ä–∞–∂–±–∞ –Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ç–µ—Ç',
        risk3: '–ú–∞–ª–∏—Ü–∏–æ–∑–µ–Ω —Å–æ—Ñ—Ç–≤–µ—Ä',
        protectionTitle: '–ö–∞–∫–æ –¥–∞ —Å–µ –∑–∞—à—Ç–∏—Ç–∏—à:',
        protection1: '–ö–æ—Ä–∏—Å—Ç–∏ —Å–∏–ª–Ω–∏ –ª–æ–∑–∏–Ω–∫–∏',
        protection2: '–í–∫–ª—É—á–∏ –¥–≤–æ—ò–Ω–∞ –∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—ò–∞',
        protection3: '–ü—Ä–æ–≤–µ—Ä—É–≤–∞—ò —Å–æ–º–Ω–∏—Ç–µ–ª–Ω–∏ –ª–∏–Ω–∫–æ–≤–∏',
        securityCallToAction: 'üëâ –ü—Ä–æ–≤–µ—Ä–∏ –≥–æ —Å–µ–∫–æ—ò –ª–∏–Ω–∫ –ø—Ä–µ–¥ –¥–∞ –∫–ª–∏–∫–Ω–µ—à!'
    },
    EN: {
        // Navigation
        home: 'Home',
        clickSafe: 'Click Safe',
        whatIs: 'What is CyberForge?',
        whySecurity: 'Why Security?',
        aboutUs: 'About Us',
        
        // Hero Section
        heroTitle: 'Every click is a new adventure!',
        heroSubtitle: 'Step safely into the digital world.',
        
        // Link Form
        checkUrl: 'Check',
        enterUrl: 'Enter URL to check',
        checking: 'Checking...',
        safe: 'Your link is safe!',
        dangerous: 'Your link is dangerous, be careful!',
        warning: 'The link is safe but shows signs of suspicion.',
        error: 'An error occurred: ',
        notExist: 'The entered link does not exist or is not accessible.',
        suspicious: 'WARNING: The link appears suspicious!',
        
        // About Section
        aboutDescription: 'üåê How does CyberForge work?\n\nCyberForge is your first line of defense against dangerous links on the internet. With our tool, every user can easily enter any link in the field on the homepage and within seconds get information about whether that link is safe or potentially dangerous.',
        keyFeatures: 'How it works:',
        feature1: 'Enter the link in the field on the homepage',
        feature2: 'The system automatically analyzes the URL and compares it with the latest databases of phishing, malicious and fraudulent pages',
        feature3: 'Uses advanced algorithms and machine learning to recognize new threats',
        feature4: 'Quick and clear information about the safety of each link',
        aboutBenefits: 'What you get:',
        benefit1: 'Quick and clear information about the safety of each link',
        benefit2: 'Protection from the most common internet threats',
        benefit3: 'Peace of mind while surfing',
        aboutCallToAction: 'üëâ Check every link before you click with CyberForge!',
        
        // About Us Section
        ourMission: 'Our Mission',
        missionDescription: 'At CyberForge, we are dedicated to providing cutting-edge cybersecurity solutions to protect businesses and individuals in the digital age.',
        ourTeam: 'Our Team',
        teamDescription: 'We are a team of experienced cybersecurity professionals committed to excellence and innovation.',
        ourValues: 'Our Values',
        value1: 'Security First',
        value2: 'Client Trust',
        value3: 'Innovation',
        value4: 'Excellence',
        
        // Contact Section
        contactUs: 'Contact Us',
        name: 'Name:',
        email: 'Email:',
        message: 'Message:',
        sendMessage: 'Send Message',

        // Why Security Section
        securityIntro: 'In the digital world, security is not just a choice, but a necessity. We are daily exposed to various cyber threats ‚Äì from phishing and malware to identity theft and financial fraud. Only through awareness and a proactive approach can we reduce risks and enjoy the internet without fear of abuse.',
        risksTitle: 'Risks:',
        risk1: 'Phishing attacks',
        risk2: 'Identity theft',
        risk3: 'Malware',
        protectionTitle: 'How to protect yourself:',
        protection1: 'Use strong passwords',
        protection2: 'Enable two-factor authentication',
        protection3: 'Check suspicious links',
        securityCallToAction: 'üëâ Check every link before you click!'
    },
    SQ: {
        // Navigation
        home: 'Kryefaqja',
        clickSafe: 'Kliko Sigurt',
        whatIs: '√áfar√´ √´sht√´ CyberForge?',
        whySecurity: 'Pse Siguria?',
        aboutUs: 'Rreth Nesh',
        
        // Hero Section
        heroTitle: '√ádo klikim √´sht√´ nj√´ aventur√´ e re!',
        heroSubtitle: 'Hap hapat sigurt n√´ bot√´n dixhitale.',
        
        // Link Form
        checkUrl: 'Kontrollo',
        enterUrl: 'Vendosni URL p√´r t√´ kontrolluar',
        checking: 'Duke kontrolluar...',
        safe: 'Lidhja juaj √´sht√´ e sigurt!',
        dangerous: 'Lidhja juaj √´sht√´ e rrezikshme, kini kujdes!',
        warning: 'Lidhja √´sht√´ e sigurt por tregon shenja dyshimi.',
        error: 'Ndodhi nj√´ gabim: ',
        notExist: 'Lidhja e vendosur nuk ekziston ose nuk √´sht√´ e aksesueshme.',
        suspicious: 'KUJDES: Lidhja duket e dyshimt√´!',
        
        // About Section
        aboutDescription: 'üåê Si funksionon CyberForge?\n\nCyberForge √´sht√´ vija juaj e par√´ e mbrojtjes kund√´r lidhjeve t√´ rrezikshme n√´ internet. Me mjetin ton√´, √ßdo p√´rdorues mund t√´ fut√´ leht√´sisht √ßdo lidhje n√´ fush√´n n√´ faqen kryesore dhe brenda sekondave t√´ marr√´ informacion n√´se ajo lidhje √´sht√´ e sigurt apo potencialisht e rrezikshme.',
        keyFeatures: 'Si funksionon:',
        feature1: 'Fut lidhjen n√´ fush√´n n√´ faqen kryesore',
        feature2: 'Sistemi automatikisht analizon URL-n√´ dhe e krahason me bazat e t√´ dh√´nave m√´ t√´ fundit t√´ faqeve t√´ phishing, malicioze dhe mashtruese',
        feature3: 'P√´rdor algoritme t√´ avancuara dhe m√´simin e makineris√´ p√´r t√´ njohur k√´rc√´nimet e reja',
        feature4: 'Informacion i shpejt√´ dhe i qart√´ p√´r sigurin√´ e √ßdo lidhjeje',
        aboutBenefits: '√áfar√´ merrni:',
        benefit1: 'Informacion i shpejt√´ dhe i qart√´ p√´r sigurin√´ e √ßdo lidhjeje',
        benefit2: 'Mbrojtje nga k√´rc√´nimet m√´ t√´ zakonshme t√´ internetit',
        benefit3: 'Qet√´si mendore gjat√´ surfimit',
        aboutCallToAction: 'üëâ Kontrolloni √ßdo lidhje para se t√´ klikoni me CyberForge!',
        
        // About Us Section
        ourMission: 'Misioni Yn√´',
        missionDescription: 'N√´ CyberForge, ne jemi t√´ dedikuar p√´r t√´ ofruar zgjidhje moderne t√´ siguris√´ kibernetike p√´r t√´ mbrojtur bizneset dhe individ√´t n√´ epok√´n dixhitale.',
        ourTeam: 'Ekipa Jon√´',
        teamDescription: 'Ne jemi nj√´ ekip profesionist√´sh me p√´rvoj√´ n√´ sigurin√´ kibernetike t√´ angazhuar p√´r p√´rsosm√´ri dhe inovacion.',
        ourValues: 'Vlerat Tona',
        value1: 'Siguria n√´ Radh√´ t√´ Par√´',
        value2: 'Besimi i Klientit',
        value3: 'Inovacioni',
        value4: 'P√´rsosm√´ria',
        
        // Contact Section
        contactUs: 'Na Kontaktoni',
        name: 'Emri:',
        email: 'Email:',
        message: 'Mesazhi:',
        sendMessage: 'D√´rgo Mesazhin',

        // Why Security Section
        securityIntro: 'N√´ bot√´n dixhitale, siguria nuk √´sht√´ thjesht nj√´ zgjedhje, por nj√´ domosdoshm√´ri. Ne jemi t√´ ekspozuar √ßdo dit√´ ndaj k√´rc√´nimeve t√´ ndryshme kibernetike ‚Äì nga phishing dhe malware deri te vjedhja e identitetit dhe mashtrimet financiare. Vet√´m p√´rmes nd√´rgjegj√´simit dhe nj√´ qasjeje proaktive mund t√´ zvog√´lojm√´ rreziqet dhe t√´ shijojm√´ internetin pa frik√´ nga abuzimi.',
        risksTitle: 'Rreziqet:',
        risk1: 'Sulmet phishing',
        risk2: 'Vjedhja e identitetit',
        risk3: 'Malware',
        protectionTitle: 'Si t√´ mbroheni:',
        protection1: 'P√´rdorni fjal√´kalime t√´ forta',
        protection2: 'Aktivizoni autentifikimin me dy faktor√´',
        protection3: 'Kontrolloni lidhjet e dyshimta',
        securityCallToAction: 'üëâ Kontrolloni √ßdo lidhje para se t√´ klikoni!'
    }
};

const LanguageContext = createContext();

export function LanguageProvider({ children }) {
    const [language, setLanguage] = useState(() => {
        // Use a try-catch block to handle potential localStorage errors
        try {
            const savedLanguage = localStorage.getItem('language');
            return savedLanguage || 'MK';
        } catch (error) {
            console.error('Error accessing localStorage:', error);
            return 'MK';
        }
    });

    useEffect(() => {
        try {
            localStorage.setItem('language', language);
        } catch (error) {
            console.error('Error saving to localStorage:', error);
        }
    }, [language]);

    // Memoize the context value to prevent unnecessary re-renders
    const value = useMemo(() => ({
        language,
        setLanguage,
        t: translations[language]
    }), [language]);

    return (
        <LanguageContext.Provider value={value}>
            {children}
        </LanguageContext.Provider>
    );
}

export function useLanguage() {
    const context = useContext(LanguageContext);
    if (context === undefined) {
        throw new Error('useLanguage must be used within a LanguageProvider');
    }
    return context;
} 